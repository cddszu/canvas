<!Doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>loading</title>
    <style>
    
    </style>
</head>
<body>
    <canvas height="500" width="500" id="canvas"></canvas>

    <script>
        (function(){
            let canvas = document.getElementById('canvas');
            let context = canvas.getContext('2d');

            let loading = {

            }
            let speed = 0.01;
            let progress = 0;
            let text = '';
            
            function draw(){
                let text = parseInt(progress * 100) + '%';
                context.clearRect(0, 0, canvas.width, canvas.height);

                context.beginPath();
                context.arc(250, 250, 50, Math.PI*(-0.5), Math.PI*((progress+=speed)*2-0.5));
                context.stroke();
                context.closePath();
            
                context.fillText(text, 250, 250, 100);
                
            }



            function loop(){
                window.setTimeout(loop,50);
                // console.log(progress)
                if(progress>=1){
                    progress = 0
                }
                draw();
            }
            loop();
        })()
    </script>
</body>
</html>